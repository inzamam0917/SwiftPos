2024-08-06 13:18:17.5084 INFO Application started. Press Ctrl+C to shut down. 
2024-08-06 13:18:17.5193 INFO Hosting environment: Development 
2024-08-06 13:18:17.5193 INFO Content root path: C:\Users\LENOVO\source\repos\SwiftPos\SwiftPos 
2024-08-06 13:19:28.5664 INFO User Details: Id=602d6f2c-d392-47b0-aa9a-9cf563ca7d17, Name=inzamam, Role=Admin 
2024-08-06 13:22:46.7811 INFO Application started. Press Ctrl+C to shut down. 
2024-08-06 13:22:46.7904 INFO Hosting environment: Development 
2024-08-06 13:22:46.7904 INFO Content root path: C:\Users\LENOVO\source\repos\SwiftPos\SwiftPos 
2024-08-06 13:24:24.4439 ERROR An unhandled exception has occurred. Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: BadRequest (400); Substatus: 1001; ActivityId: c4021923-bde4-48d3-bc3d-f4ede7c2ec15; Reason: (Message: {"Errors":["PartitionKey extracted from document doesn't match the one specified in the header. Learn more: https:\/\/aka.ms\/CosmosDB\/sql\/errors\/wrong-pk-value"]}
ActivityId: c4021923-bde4-48d3-bc3d-f4ede7c2ec15, Request URI: /apps/e42bb9c6-0177-4978-bb1d-49cf68216bd1/services/38040a96-a016-405b-98d0-795bd56d8c43/partitions/dc004c23-ea4e-4c46-988a-3554238939b4/replicas/133669415420594685p, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22631 cosmos-netstandard-sdk/3.31.4);
   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)
   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)
   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)
   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)
--- Cosmos Diagnostics ---{"Summary":{"DirectCalls":{"(400, 1001)":1}},"name":"UpsertItemAsync","start datetime":"2024-08-06T08:24:23.543Z","duration in milliseconds":896.3616,"data":{"Client Configuration":{"Client Created Time Utc":"2024-08-06T08:22:49.9146673Z","MachineId":"hashedMachineName:efe532e9-0cfc-8897-6dc5-203608e2771d","NumberOfClientsCreated":1,"NumberOfActiveClients":1,"ConnectionMode":"Direct","User Agent":"cosmos-netstandard-sdk/3.35.4|1|X64|Microsoft Windows 10.0.22631|.NET 8.0.6|N|","ConnectionConfig":{"gw":"(cps:50, urto:6, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":12}},"children":[{"name":"ItemSerialize","duration in milliseconds":2.2505},{"name":"Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler","duration in milliseconds":884.7611,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.DiagnosticsHandler","duration in milliseconds":882.8134,"data":{"System Info":{"systemHistory":[{"dateUtc":"2024-08-06T08:23:30.7199451Z","cpu":2.732,"memory":10430440.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.2385,"availableThreads":32766,"minThreads":12,"maxThreads":32767},"numberOfOpenTcpConnection":1},{"dateUtc":"2024-08-06T08:23:40.7352442Z","cpu":2.874,"memory":10454912.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.4467,"availableThreads":32766,"minThreads":12,"maxThreads":32767},"numberOfOpenTcpConnection":1},{"dateUtc":"2024-08-06T08:23:50.7430815Z","cpu":4.719,"memory":10420680.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0763,"availableThreads":32766,"minThreads":12,"maxThreads":32767},"numberOfOpenTcpConnection":1},{"dateUtc":"2024-08-06T08:24:00.7580275Z","cpu":8.220,"memory":10493608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0394,"availableThreads":32766,"minThreads":12,"maxThreads":32767},"numberOfOpenTcpConnection":1},{"dateUtc":"2024-08-06T08:24:10.7602758Z","cpu":7.677,"memory":10413992.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.1104,"availableThreads":32766,"minThreads":12,"maxThreads":32767},"numberOfOpenTcpConnection":1},{"dateUtc":"2024-08-06T08:24:20.7741561Z","cpu":5.985,"memory":10401868.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0696,"availableThreads":32766,"minThreads":12,"maxThreads":32767},"numberOfOpenTcpConnection":1}]}},"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RetryHandler","duration in milliseconds":882.8001,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RouterHandler","duration in milliseconds":877.9737,"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.TransportHandler","duration in milliseconds":877.9676,"children":[{"name":"Microsoft.Azure.Documents.ServerStoreModel Transport Request","duration in milliseconds":845.346,"data":{"Client Side Request Stats":{"Id":"AggregatedClientSideRequestStatistics","ContactedReplicas":[{"Count":1,"Uri":"rntbd://cdb-ms-prod-uksouth1-be34.documents.azure.com:14384/apps/e42bb9c6-0177-4978-bb1d-49cf68216bd1/services/38040a96-a016-405b-98d0-795bd56d8c43/partitions/dc004c23-ea4e-4c46-988a-3554238939b4/replicas/133669415420594685p"},{"Count":1,"Uri":"rntbd://cdb-ms-prod-uksouth1-be34.documents.azure.com:14090/apps/e42bb9c6-0177-4978-bb1d-49cf68216bd1/services/38040a96-a016-405b-98d0-795bd56d8c43/partitions/dc004c23-ea4e-4c46-988a-3554238939b4/replicas/133669306087198217s"},{"Count":1,"Uri":"rntbd://cdb-ms-prod-uksouth1-be34.documents.azure.com:14356/apps/e42bb9c6-0177-4978-bb1d-49cf68216bd1/services/38040a96-a016-405b-98d0-795bd56d8c43/partitions/dc004c23-ea4e-4c46-988a-3554238939b4/replicas/133668976743960791s"},{"Count":1,"Uri":"rntbd://cdb-ms-prod-uksouth1-be34.documents.azure.com:14466/apps/e42bb9c6-0177-4978-bb1d-49cf68216bd1/services/38040a96-a016-405b-98d0-795bd56d8c43/partitions/dc004c23-ea4e-4c46-988a-3554238939b4/replicas/133668606064016194s"}],"RegionsContacted":[],"FailedReplicas":[],"AddressResolutionStatistics":[],"StoreResponseStatistics":[{"ResponseTimeUTC":"2024-08-06T08:24:24.3966999Z","ResourceType":"Document","OperationType":"Upsert","LocationEndpoint":"https://swiftpos-uksouth.documents.azure.com/","StoreResult":{"ActivityId":"c4021923-bde4-48d3-bc3d-f4ede7c2ec15","StatusCode":"StartingErrorCode","SubStatusCode":"PartitionKeyMismatch","LSN":13,"PartitionKeyRangeId":"0","GlobalCommittedLSN":13,"ItemLSN":-1,"UsingLocalLSN":false,"QuorumAckedLSN":13,"SessionToken":"-1#13","CurrentWriteQuorum":3,"CurrentReplicaSetSize":4,"NumberOfReadRegions":0,"IsValid":true,"StorePhysicalAddress":"rntbd://cdb-ms-prod-uksouth1-be34.documents.azure.com:14384/apps/e42bb9c6-0177-4978-bb1d-49cf68216bd1/services/38040a96-a016-405b-98d0-795bd56d8c43/partitions/dc004c23-ea4e-4c46-988a-3554238939b4/replicas/133669415420594685p","RequestCharge":1.24,"RetryAfterInMs":null,"BELatencyInMs":"0.724","ReplicaHealthStatuses":["(port: 14384 | status: Connected | lkt: 06/08/2024 8:24:24 am)"],"transportRequestTimeline":{"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-08-06T08:24:23.5632942Z", "durationInMs": 0.0306},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-08-06T08:24:23.5633248Z", "durationInMs": 660.6427},{"event": "Pipelined", "startTimeUtc": "2024-08-06T08:24:24.2239675Z", "durationInMs": 0.476},{"event": "Transit Time", "startTimeUtc": "2024-08-06T08:24:24.2244435Z", "durationInMs": 161.5005},{"event": "Received", "startTimeUtc": "2024-08-06T08:24:24.3859440Z", "durationInMs": 0.9293},{"event": "Completed", "startTimeUtc": "2024-08-06T08:24:24.3868733Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"True","callsPendingReceive":0,"lastSendAttempt":"2024-08-06T08:24:24.0619353Z","lastSend":"2024-08-06T08:24:24.0620908Z","lastReceive":"2024-08-06T08:24:24.2204766Z"},"requestSizeInBytes":646,"requestBodySizeInBytes":203,"responseMetadataSizeInBytes":225,"responseBodySizeInBytes":166},"TransportException":null}}]},"Point Operation Statistics":{"Id":"PointOperationStatistics","ActivityId":"c4021923-bde4-48d3-bc3d-f4ede7c2ec15","ResponseTimeUtc":"2024-08-06T08:24:24.4324289Z","StatusCode":400,"SubStatusCode":1001,"RequestCharge":1.24,"RequestUri":"dbs/swiftpos/colls/User","ErrorMessage":"Microsoft.Azure.Documents.BadRequestException: Message: {\"Errors\":[\"PartitionKey extracted from document doesn't match the one specified in the header. Learn more: https:\\/\\/aka.ms\\/CosmosDB\\/sql\\/errors\\/wrong-pk-value\"]}\r\nActivityId: c4021923-bde4-48d3-bc3d-f4ede7c2ec15, Request URI: /apps/e42bb9c6-0177-4978-bb1d-49cf68216bd1/services/38040a96-a016-405b-98d0-795bd56d8c43/partitions/dc004c23-ea4e-4c46-988a-3554238939b4/replicas/133669415420594685p, RequestStats: Microsoft.Azure.Cosmos.Tracing.TraceData.ClientSideRequestStatisticsTraceDatum, SDK: Windows/10.0.22631 cosmos-netstandard-sdk/3.31.4\r\n   at Microsoft.Azure.Documents.StoreResult.ToResponse(RequestChargeTracker requestChargeTracker)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WritePrivateAsync(DocumentServiceRequest request, TimeoutHelper timeout, Boolean forceRefresh)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)\r\n   at Microsoft.Azure.Documents.ConsistencyWriter.WriteAsync(DocumentServiceRequest entity, TimeoutHelper timeout, Boolean forceRefresh, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Documents.ReplicatedResourceClient.<>c__DisplayClass31_0.<<InvokeAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)\r\n   at Microsoft.Azure.Documents.RequestRetryUtility.ProcessRequestAsync[TRequest,IRetriableResponse](Func`1 executeAsync, Func`1 prepareRequest, IRequestRetryPolicy`2 policy, CancellationToken cancellationToken, Func`1 inBackoffAlternateCallbackMethod, Nullable`1 minBackoffForInBackoffCallback)\r\n   at Microsoft.Azure.Documents.StoreClient.ProcessMessageAsync(DocumentServiceRequest request, CancellationToken cancellationToken, IRetryPolicy retryPolicy)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.ProcessMessageAsync(RequestMessage request, CancellationToken cancellationToken)\r\n   at Microsoft.Azure.Cosmos.Handlers.TransportHandler.SendAsync(RequestMessage request, CancellationToken cancellationToken)","RequestSessionToken":null,"ResponseSessionToken":"0:-1#13","BELatencyInMs":"0.724"}}}]}]}]}]}]}]}
2024-08-06 13:43:56.8350 INFO Application started. Press Ctrl+C to shut down. 
2024-08-06 13:43:56.8553 INFO Hosting environment: Development 
2024-08-06 13:43:56.8553 INFO Content root path: C:\Users\LENOVO\source\repos\SwiftPos\SwiftPos 
2024-08-06 13:48:34.9455 INFO Application started. Press Ctrl+C to shut down. 
2024-08-06 13:48:34.9455 INFO Hosting environment: Development 
2024-08-06 13:48:34.9552 INFO Content root path: C:\Users\LENOVO\source\repos\SwiftPos\SwiftPos 
2024-08-06 13:51:16.6046 INFO Now listening on: https://localhost:7065 
2024-08-06 13:51:16.6211 INFO Now listening on: http://localhost:5259 
2024-08-06 13:51:16.6211 INFO Application started. Press Ctrl+C to shut down. 
2024-08-06 13:51:16.6211 INFO Hosting environment: Development 
2024-08-06 13:51:16.6211 INFO Content root path: C:\Users\LENOVO\source\repos\SwiftPos\SwiftPos 
2024-08-06 13:53:14.8621 INFO Now listening on: https://localhost:7065 
2024-08-06 13:53:14.8621 INFO Now listening on: http://localhost:5259 
2024-08-06 13:53:14.8621 INFO Application started. Press Ctrl+C to shut down. 
2024-08-06 13:53:14.8621 INFO Hosting environment: Development 
2024-08-06 13:53:14.8621 INFO Content root path: C:\Users\LENOVO\source\repos\SwiftPos\SwiftPos 
